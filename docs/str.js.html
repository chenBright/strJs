<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>str.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-str.html">str</a></li><li><a href="module-str_camelize.html">str/camelize</a></li><li><a href="module-str_capitalize.html">str/capitalize</a></li><li><a href="module-str_chars.html">str/chars</a></li><li><a href="module-str_chop.html">str/chop</a></li><li><a href="module-str_classify.html">str/classify</a></li><li><a href="module-str_clean.html">str/clean</a></li><li><a href="module-str_count.html">str/count</a></li><li><a href="module-str_decapitalize.html">str/decapitalize</a></li><li><a href="module-str_endsWith.html">str/endsWith</a></li><li><a href="module-str_escapeHTML.html">str/escapeHTML</a></li><li><a href="module-str_humanize.html">str/humanize</a></li><li><a href="module-str_include.html">str/include</a></li><li><a href="module-str_insert.html">str/insert</a></li><li><a href="module-str_isBlank.html">str/isBlank</a></li><li><a href="module-str_join.html">str/join</a></li><li><a href="module-str_map.html">str/map</a></li><li><a href="module-str_pred.html">str/pred</a></li><li><a href="module-str_quote.html">str/quote</a></li><li><a href="module-str_repeat.html">str/repeat</a></li><li><a href="module-str_replaceAll.html">str/replaceAll</a></li><li><a href="module-str_reverse.html">str/reverse</a></li><li><a href="module-str_splice.html">str/splice</a></li><li><a href="module-str_startsWith.html">str/startsWith</a></li><li><a href="module-str_strLeft.html">str/strLeft</a></li><li><a href="module-str_strLeftBack.html">str/strLeftBack</a></li><li><a href="module-str_strRight.html">str/strRight</a></li><li><a href="module-str_strRightBack.html">str/strRightBack</a></li><li><a href="module-str_succ.html">str/succ</a></li><li><a href="module-str_surround.html">str/surround</a></li><li><a href="module-str_swapCase.html">str/swapCase</a></li><li><a href="module-str_titleize.html">str/titleize</a></li><li><a href="module-str_trim.html">str/trim</a></li><li><a href="module-str_truncate.html">str/truncate</a></li><li><a href="module-str_underscored.html">str/underscored</a></li><li><a href="module-str_unescapeHTML.html">str/unescapeHTML</a></li><li><a href="module-str_unquote.html">str/unquote</a></li><li><a href="module-str_words.html">str/words</a></li><li><a href="str_module_val.html">val</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">str.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict'

import { capitalize } from './capitalize'
import { chars } from './chars'
import { clean } from './clean'
import { count } from './count'
import { decapitalize } from './decapitalize'
import { insert } from './insert'
import { isBlank } from './isBlank'
import { join } from './join'
import { ltrim } from './ltrim'
import { pred } from './pred'
import { replaceAll } from './replaceAll'
import { reverse } from './reverse'
import { rtrim } from './rtrim'
import { succ } from './succ'
import { swapCase } from './swapCase'
import { trim } from './trim'
import { truncate } from './truncate'
import { words } from './words'
import { classify } from './classify'
import { titleize } from './titleize'
import { camelize } from './camelize'
import { surround } from './surround'
import { quote } from './quote'
import { unquote } from './unquote'
import { map } from './map'
import { escapeHTML } from './escapeHTML'
import { unescapeHTML } from './unescapeHTML'
import { splice } from './splice'
import { underscored } from './underscored'
import { dasherize } from './dasherize'
import { humanize } from './humanize'
import { strLeft } from './strLeft'
import { strLeftBack } from './strLeftBack'
import { strRight } from './strRight'
import { strRightBack } from './strRightBack'
import { include } from './include'
import { startsWith } from './startsWith'
import { endsWith } from './endsWith'
import { chop } from './chop'

let fns = {
  capitalize,
  chars,
  clean,
  count,
  decapitalize,
  insert,
  isBlank,
  join,
  ltrim,
  pred,
  replaceAll,
  reverse,
  rtrim,
  succ,
  swapCase,
  trim,
  truncate,
  words,
  classify,
  titleize,
  camelize,
  surround,
  quote,
  unquote,
  map,
  escapeHTML,
  unescapeHTML,
  splice,
  underscored,
  dasherize,
  humanize,
  strLeft,
  strLeftBack,
  strRight,
  strRightBack,
  include,
  startsWith,
  endsWith,
  chop
}

/**
 * str是一个包含了很多操作字符串的静态方法的对象。&lt;br/>
 *
 * 同时，str也是一个构造函数，既可以通过new操作得到实例，也可以通过直接调用得到实例。
 * 实例化的对象包含的方法与str的静态方法的作用一样。&lt;br/>
 *
 * 通过构造函数实例化的对象的方法可以进行链式调用，但只能在当前调用方法返回的值的类型为String时，才能链式调用下一个方法。
 * 此时，你不能直接得到该String值，需要通过链式调用val方法才能得到该String值。&lt;br/>
 *
 * 当前调用方法返回的值的类型为非String，如Array、Boolean、Number时，会立即返回该非String值，不需要也不能链式调用val方法，否则，会抛出错误。
 * @module str
 * @param  {String} str 需要操作的字符串
 * @example
 * // str是一个对象，可以直接调用静态方法
 * str.trim('   abc   ')                      // 'abc'
 * str.succ('a')                              // 'b'
 *
 * // 实例化、链式调用
 * var s1 = str('   foo  ')
 * s1.trim().capitalize().val()               // 'Foo'
 *
 * var s2 = new str('   foo  ')
 * s2.trim().capitalize().val()               // 'Foo'
 *
 * // 当链式调用方法返回的值的类型为非String时，不能调用val方法
 * str(" foobar ").trim().startsWith("foo")   // true
 * str(" foobar ").trim().chars()             // ['f', 'o', 'o', 'b', 'a', 'r']
 */
function S(str) {
  if (!(this instanceof S)) {
    return new S(str)
  }
  this.value = str
}
S.version = '0.1.0'

/**
 * 链式调用时，可返回当前String值。
 * @module str#val
 * @return {String} 调用val前的调用方法的返回值。
 * @example
 * str('   foo  ').trim().capitalize().val()   // 'Foo'
 */
S.prototype.val = function val() {
  return this.value
}

// 静态方法集合
let methodsObj = {}
/**
 * 将函数添加为对象的静态方法
 * @private
 * @method fn2method
 * @param  {String}   key 作为对象属性
 * @param  {Function} fn  作为静态方法
 */
function fn2method(key, fn) {
  if (typeof fn !== 'function') {
    return
  }
  // 将静态方法定义为不可配置和不可写
  methodsObj[key] = {
    value: function(...args) {
      let str = this.value
      args.unshift(str)
      return fn.apply(null, args)
    },
    writable: false,
    configurable: false
  }
}

// 实例方法集合
let prototypeObj = {}
/**
 * 将函数添加为对象的实例方法
 * @private
 * @method fn2method
 * @param  {String}   key 作为对象属性
 * @param  {Function} fn  作为实例方法
 */
function fn2prototype(key, fn) {
  if (typeof fn !== 'function') {
    return
  }
  // 将实例方法定义为不可配置和不可写
  prototypeObj[key] = {
    value: function(...args) {
      let str = this.value
      args.unshift(str)
      let res = fn.apply(null, args)
      if (typeof res === 'string') {
        this.value = res
        return this
      }
      return res
    },
    writable: false,
    configurable: false
  }
}

for (let key in fns) {
  if ({}.hasOwnProperty.call(fns, key)) {
    fn2method(key, fns[key])
    fn2prototype(key, fns[key])
  }
}
// 为S对象添加静态方法和实例方法
Object.defineProperties(S, methodsObj)
Object.defineProperties(S.prototype, prototypeObj)

let str = S

export default str
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.2</a> on Mon Nov 14 2016 10:50:24 GMT+0800 (中国标准时间) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
